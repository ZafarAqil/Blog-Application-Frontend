<div class="container">
  <div class="row">
    <hr />
    <div class="col-md-9">
      <div class="row post">
        <!-- Section to Display Votes-->
        <div class="col-md-1">
          <div class="d-flex flex-column text-center votebox">
            <div class="p-2">
              <fa-icon (click)="upvotePost(post.postId)" class="upvote" [icon]="faArrowUp"
                [style.color]="post.upVote ? 'green' : ''">
              </fa-icon>
            </div>
            <div class="p-2 votecount">{{ post.votes }}</div>
            <div class="p-2">
              <fa-icon (click)="downvotePost(post.postId)" class="downvote" [icon]="faArrowDown"
                [style.color]="post.downVote ? 'red' : ''">
              </fa-icon>
            </div>
          </div>
        </div>
        <!-- Section to Display Post Information-->
        <div class="col-md-11" style="margin-top: 20px; margin-bottom: 20px">
          <span class="subreddit-info">
            <span class="subreddit-text"><a class="posturl" (click)="ngOnInit()" [routerLink]="['/community', post.communityName.toLowerCase()]">r/{{
                post.communityName
                }}</a></span>
            <span>
              • Posted by
              <a class="username" [routerLink]="['/profile', post.bloggerName]">{{ "u/" + post.bloggerName }}</a></span>
            <span> • {{ post.createdDateTime | date: "medium" }}</span>
            <span *ngIf="post.notSafeForWork"> • NSFW</span>
            <span *ngIf="post.originalContent"> • OC</span>
            <span *ngIf="post.spoiler"> • Spoiler</span>
          </span>
          <hr />
          <div class="post-title">
            <p class="postname">{{
              post.title
              }}</p>
          </div>
          
          <div>
            <p class="post-text" [innerHtml]="post.description"></p>
          </div>
          <hr />

          <div class="post-comment" *ngIf="isLoggedIn">
            <form [formGroup]="commentForm" (ngSubmit)="postComment(commentForm)">
              <div class="form-group">
                <textarea rows="5" cols="40" class="form-control" [formControlName]="'commentDescription'"
                  placeholder="Your Thoughts?"></textarea>
              </div>
              <span>
                <div style="margin-top: 5px" class="float-right">
                  <!-- <button (click)="discardPost()" class="btnDiscard">
                    Discard
                  </button> -->
                  <button class="btnCreatePost" [disabled]="commentForm.invalid">
                    ADD COMMENT
                  </button>
                </div>
              </span>
            </form>
          </div>

          <div class="post-comment" *ngIf="!isLoggedIn">
            <form [formGroup]="commentForm" (ngSubmit)="postComment(commentForm)">
              <div class="form-group">
                <textarea rows="5" cols="40" class="form-control" [formControlName]="'commentDescription'"
                  placeholder="Please, Login to comment..."></textarea>
              </div>
              <span>
                <div style="margin-top: 5px" class="float-right">
                  <!-- <button (click)="discardPost()" class="btnDiscard">
                    Discard
                  </button> -->
                  <button class="btnCreatePost">LOGIN</button>
                </div>
              </span>
            </form>
          </div>
        </div>
      </div>
      <div class="row post" *ngIf="post.comments.length > 0">
        <div class="col-md-1"></div>

        <div class="col-md-11">
          <div style="margin-top: 20px" *ngFor="let comment of post?.comments | reverse">
            <div class="comment" style="display: inline">
              <div class="username">
                <img class="account-icon" src="https://www.redditstatic.com/avatars/avatar_default_08_D4E815.png" />
                &nbsp;
                <a [routerLink]="['/profile', comment.bloggerName]">{{
                  "u/" + comment.bloggerName
                  }}</a>
                <span class="text-right" style="margin-left: 480px;">
                  {{ comment.createdDateTime | date: "medium" }}
                </span>
              </div>
              <br/>
              <div>
                <p>{{ comment.commentDescription }}</p>
              </div>
            </div>
            <hr />
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <!-- <app-side-bar></app-side-bar> -->
      <!-- <app-subreddit-side-bar></app-subreddit-side-bar> -->
    </div>
  </div>
</div>